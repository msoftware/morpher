!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("morpherjs",[],t):"object"==typeof exports?exports.morpherjs=t():e.morpherjs=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function __webpack_require__(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,__webpack_require__),s.l=!0,s.exports}return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="/",__webpack_require__(__webpack_require__.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function Morpher(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Morpher),this.path=e,!this.path||"PATH"!==this.path.tagName.toUpperCase())return console.warn("Morpherjs: provided DOM element should be a PATH node.");this.config=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},s=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),s.forEach(function(t){_defineProperty(e,t,n[t])})}return e}({},Morpher.defaults,t),this.steps=[],this.segments=void 0,this.isPlaying=!1,this.isPaused=!1,this.isDone=!1,this.reset(),this.addStep(this.path.getAttribute("d"))}var e,t,n;return e=Morpher,n=[{key:"defaults",get:function(){return{duration:500,iterations:-1,alternate:!0,easing:function(e){return e<.5?2*e*e:(4-2*e)*e-1},decimals:3}}}],(t=[{key:"setDuration",value:function(e){return this.config.duration=e>=0?e:Morpher.defaults.duration,this}},{key:"setIterations",value:function(e){return this.config.duration=-1===e||e>=0?e:Morpher.defaults.iterations,this}},{key:"setAlternate",value:function(e){return this.config.alternate=!!e,this}},{key:"setEasing",value:function(e){return this.config.easing="function"==typeof e?e:Morpher.defaults.easing,this}},{key:"addStep",value:function(e){if(!e)return this;var t={};return t.points=this.parseDirectionsString(e),this.steps.push(t),this.segments=void 0,this}},{key:"addSteps",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0;t<e.length;t++)this.addStep(e[t]);return this}},{key:"play",value:function(e){this.isPlaying||(this.start||(this.start=e||Date.now()),this.isPaused&&(this.start=Date.now()-(this.isPaused-this.start)),this.isPlaying=!0,this.isPaused=!1,this.isDone=!1,this.frame(this.start))}},{key:"pause",value:function(){this.isPlaying=!1,this.isPaused=Date.now(),this.isDone=!1}},{key:"stop",value:function(){this.reset(),this.isPlaying=!1,this.isPaused=!1,this.isDone=!1}},{key:"frame",value:function(e){var t;return this.config.duration&&this.isPlaying&&!this.isDone&&this.steps.length>1&&(t=this.update(e))?this.draw(t):(this.isDone=!0,this.reset(),this.isPlaying=!1)}},{key:"update",value:function(e){if(void 0===this.precision&&(this.precision=Math.pow(10,this.config.decimals)),void 0===this.segments&&(this.segments=this.getSegments()),void 0!==(e=this.getProgress(e)))return this.getSegmentProgressInstructions(this.getSegmentProgress(e))}},{key:"draw",value:function(e){var t=this;this.path.setAttribute("d",e.join("")),requestAnimationFrame(function(){return t.frame(Date.now())})}},{key:"reset",value:function(){this.start=void 0,this.iteration=void 0,this.segment=void 0,this.precision=void 0,this.isForward=void 0}},{key:"getProgress",value:function(e){if(this.iteration=Math.floor((e-this.start)/this.config.duration),!(this.config.iterations>=this.iteration))return this.isForward=!this.config.alternate||this.iteration%2==0,e=(e-this.start)%this.config.duration,e=this.isForward?e/this.config.duration:(this.config.duration-e)/this.config.duration,e=this.config.easing(e),this.segment=Math.floor(e*this.segments.length),e}},{key:"getSegmentProgress",value:function(e){return(e-this.segment/this.segments.length)*this.segments.length}},{key:"getSegmentProgressInstructions",value:function(e){for(var t=[],n=0;n<this.segments[this.segment].length;n++)t.push(this.getSegmentPointProgressInstruction(this.segments[this.segment][n],e));return t}},{key:"getSegments",value:function(){for(var e=[],t=0;t<this.steps.length-1;t++)e.push(this.getSegmentPointsForSteps(this.steps[t],this.steps[t+1]));return e}},{key:"getSegmentPointsForSteps",value:function(e,t){for(var n=[],s=0;s<e.points.length;s++)n.push(this.getSegmentPoint(e.points[s],t.points[s],e.points[s-1],t.points[s-1]));return n}},{key:"parseDirectionsString",value:function(e){for(var t,n=[],s=0;s<e.length;s++)this.isCoordinateCharacter(e[s])?this.appendCoordinateCharacter(t,e[s]):this.isInstructionCharacter(e[s])&&(t&&n.push(this.cleanInstruction(t,n.length?n[n.length-1]:null)),(t={}).type=e[s]);return t&&n.push(this.cleanInstruction(t,n.length?n[n.length-1]:null)),n}},{key:"isCoordinateCharacter",value:function(e){return!isNaN(e)||(" "==e||"."==e||","==e||"-"==e||"+"==e)}},{key:"isInstructionCharacter",value:function(e){return"m"==(e=e.toLowerCase())||("z"==e||("l"==e||("h"==e||("v"==e||("c"==e||("s"==e||("q"==e||("t"==e||"a"==e))))))))}},{key:"appendCoordinateCharacter",value:function(e,t){return e.coordinates||(e.coordinates=[""]),","==t||" "==t||"+"==t&&e.coordinates[e.coordinates.length-1].length?e.coordinates.push(""):"-"==t&&e.coordinates[e.coordinates.length-1].length?e.coordinates.push("-"):void(e.coordinates[e.coordinates.length-1]+=t)}},{key:"cleanInstruction",value:function(e,t){if(!e.coordinates)return e;for(var n=[],s=0;s<e.coordinates.length;s++)e.coordinates[s].length&&n.push(parseFloat(e.coordinates[s]));return e.coordinates=n,e.start=this.getInstructionAnchor(e,t,!0),e.end=this.getInstructionAnchor(e,t),e.type==e.type.toLowerCase()?e.coordinates=this.getCoordinatesFromRelative(e):e.coordinates=this.getCoordinatesFromAbsolute(e),e}},{key:"getInstructionAnchor",value:function(e,t,n){return n?t?this.getAnchorFromAbsoluteValues(t.end.abs.x,t.end.abs.y,t):this.getAnchorFromAbsoluteValues(0,0):"h"==e.type?this.getAnchorFromRelativeValues(e.coordinates[e.coordinates.length-1],0,t):"H"==e.type?this.getAnchorFromAbsoluteValues(e.coordinates[e.coordinates.length-1],t.end.abs.y,t):"v"==e.type?this.getAnchorFromRelativeValues(0,e.coordinates[e.coordinates.length-1],t):"V"==e.type?this.getAnchorFromAbsoluteValues(t.end.abs.x,e.coordinates[e.coordinates.length-1],t):e.type==e.type.toLowerCase()?this.getAnchorFromRelativeValues(e.coordinates[e.coordinates.length-2],e.coordinates[e.coordinates.length-1],t):this.getAnchorFromAbsoluteValues(e.coordinates[e.coordinates.length-2],e.coordinates[e.coordinates.length-1],t)}},{key:"getAnchorFromAbsoluteValues",value:function(e,t,n){return{abs:{x:e,y:t},rel:{x:e-(n?n.end.abs.x:0),y:t-(n?n.end.abs.y:0)}}}},{key:"getAnchorFromRelativeValues",value:function(e,t,n){return{abs:{x:(n?n.end.abs.x:0)+e,y:(n?n.end.abs.y:0)+t},rel:{x:e,y:t}}}},{key:"getCoordinateAxis",value:function(e,t){return"h"==e.toLowerCase()?"x":"v"==e.toLowerCase()?"y":t%2>0?"y":"x"}},{key:"getCoordinatesFromRelative",value:function(e){var t,n={};n.rel=e.coordinates,n.abs=[];for(var s=0;s<n.rel.length;s++)t=this.getCoordinateAxis(e.type,s),n.abs.push(e.start.abs[t]+n.rel[s]);return n}},{key:"getCoordinatesFromAbsolute",value:function(e){var t,n={};n.abs=e.coordinates,n.rel=[];for(var s=0;s<n.abs.length;s++)t=this.getCoordinateAxis(e.type,s),n.rel.push(n.abs[s]-e.start.abs[t]);return n}},{key:"getSegmentPoint",value:function(e,t,n,s){var r={};return r.type=this.getBestInstructionType(e.type,t.type),r.from=this["parseTo"+r.type](e,n),r.to=this["parseTo"+r.type](t,s),r}},{key:"getSegmentPointProgressInstruction",value:function(e,t){if("Z"==e.type)return"z";for(var n=e.type,s=0;s<e.from.length;s++)s&&(n+=","),n+=Math.round((e.from[s]+(e.to[s]-e.from[s])*t)*this.precision)/this.precision;return n}},{key:"getBestInstructionType",value:function(e,t){var n=e.toLowerCase(),s=t.toLowerCase();return n==s?e.toUpperCase():"q"!=n&&"q"!=s||"t"!=n&&"t"!=s?"c"==n||"c"==s||"s"==n||"s"==s?"C":"l"!=n&&"l"!=s||"v"!=n&&"v"!=s&&"h"!=n&&"h"!=s?"C":"L":"Q"}},{key:"parseToM",value:function(e){return[e.end.abs.x,e.end.abs.y]}},{key:"parseToZ",value:function(e){}},{key:"parseToL",value:function(e){return[e.end.abs.x,e.end.abs.y]}},{key:"parseToH",value:function(e){return[e.end.abs.x]}},{key:"parseToV",value:function(e){return[e.end.abs.y]}},{key:"parseToC",value:function(e,t){switch(e.type.toLowerCase()){case"c":return e.coordinates.abs;case"s":return this.computeMissingFirstControlPoint(e,t).concat(e.coordinates.abs);case"q":return[e.coordinates.abs[e.coordinates.abs.length-4],e.coordinates.abs[e.coordinates.abs.length-3],e.coordinates.abs[e.coordinates.abs.length-4],e.coordinates.abs[e.coordinates.abs.length-3],e.end.abs.x,e.end.abs.y];case"t":var n=this.computeMissingFirstControlPoint(e,t);return n.concat(n).concat([e.end.abs.x,e.end.abs.y])}return[e.start.abs.x,e.start.abs.y,e.end.abs.x,e.end.abs.y,e.end.abs.x,e.end.abs.y]}},{key:"parseToS",value:function(e){return e.coordinates.abs}},{key:"parseToQ",value:function(e,t){return"t"!=e.type.toLowerCase()?e.coordinates.abs:this.computeMissingFirstControlPoint(e,t).concat([e.end.abs.x,e.end.abs.y])}},{key:"parseToT",value:function(e){return e.coordinates.abs}},{key:"parseToA",value:function(e){return e.coordinates.abs}},{key:"computeMissingFirstControlPoint",value:function(e,t){var n=t.type.toLowerCase();return"c"!=n&&"s"!=n&&"q"!=n?[e.start.abs.x,e.start.abs.y]:[e.start.abs.x+(e.start.abs.x-t.coordinates.abs[t.coordinates.abs.length-4]),e.start.abs.y+(e.start.abs.y-t.coordinates.abs[t.coordinates.abs.length-3])]}}])&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Morpher}();window.Morpher=s,t.default=s}])});